window.GEE=function(a){var c=this,b={ctx:undefined,width:undefined,height:undefined,frameTime:1E3/60,frameCount:0,key:undefined,keyCode:undefined,mouseX:0,mouseY:0,pmouseX:undefined,pmouseY:undefined,mousePressed:false,keyPressed:false},f=b.frameTime,e;a||(a={});a.context||(a.context="2d");a.width||(a.width=500);a.height||(a.height=500);e=c.domElement=document.createElement("canvas");b.ctx=e.getContext(a.context);if(a.fullscreen){var g=function(){offset={x:0,y:0};b.width=c.domElement.width=window.innerWidth;
b.height=c.domElement.height=window.innerHeight};window.addEventListener("resize",g,false);g();a.container||(a.container=document.body);document.body.style.margin=0;document.body.style.padding=0}else{offset={x:0,y:0};c.__defineSetter__("width",function(d){b.width=this.domElement.width=d});c.__defineSetter__("height",function(d){b.height=this.domElement.height=d});c.width=a.width;c.height=a.height}a.container&&a.container.appendChild(e);a=function(d){c.__defineGetter__(d,function(){return b[d]})};
a("ctx");a("width");a("height");a("frameTime");a("frameRate");a("frameCount");a("key");a("keyCode");a("mouseX");a("mouseY");a("pmouseX");a("pmouseY");a("mousePressed");a("keyPressed");c.__defineGetter__("frameRate",function(){return 1E3/f});a=function(){};c.loop=true;c.keyup=a;c.keydown=a;c.draw=a;c.mousedown=a;c.mouseup=a;c.mousemove=a;c.mousedrag=a;c.__defineSetter__("frameTime",function(d){f=b.frameTime=d});c.__defineSetter__("frameRate",function(d){b.frameTime=1E3/d;f=1E3/d});e.addEventListener("mousemove",
function(d){var h=d.pageX-offset.x;d=d.pageY-offset.y;if(b.pmouseX==undefined){b.pmouseX=h;b.pmouseY=d}else{b.pmouseX=b.mouseX;b.pmouseY=b.mouseY}b.mouseX=h;b.mouseY=d;c.mousemove()},false);e.addEventListener("mousedown",function(){b.mousePressed=true;c.mousedown();e.addEventListener("mousemove",c.mousedrag,false)},false);e.addEventListener("mouseup",function(){b.mousePressed=false;c.mouseup();e.removeEventListener("mousemove",c.mousedrag,false)},false);document.addEventListener("keypressed",function(d){b.key=
String.fromCharCode(d.keyCode);b.keyCode=d.keyCode;b.keyPressed=true;c.keydown()},false);document.addEventListener("keyup",function(d){b.key=String.fromCharCode(d.keyCode);b.keyCode=d.keyCode;b.keyPressed=false;c.keyup()},false);_idraw=function(){b.frameCount++;var d=(new Date).getTime();c.draw();d=(new Date).getTime()-d;f=d>b.frameTime?d:b.frameTime;c.loop&&setTimeout(_idraw,f)};_idraw()};

