window.GEE=function(a){a||(a={});if(document.createElement("canvas").getContext){var d=this,c={ctx:undefined,width:undefined,height:undefined,frameTime:1E3/60,frameCount:0,key:undefined,keyCode:undefined,mouseX:0,mouseY:0,pmouseX:undefined,pmouseY:undefined,mousePressed:false,keyPressed:false},g=c.frameTime,e,h=function(){for(var b=e,f=0,i=0;b;){i+=b.offsetTop;f+=b.offsetLeft;b=b.offsetParent}console.log(f,i);offset={x:f,y:i}};a.context||(a.context="2d");a.width||(a.width=500);a.height||(a.height=
500);e=d.domElement=document.createElement("canvas");c.ctx=e.getContext(a.context);if(c.ctx==null)a.fallback&&a.fallback();else{if(a.fullscreen){var j=function(){h();c.width=d.domElement.width=window.innerWidth;c.height=d.domElement.height=window.innerHeight};window.addEventListener("resize",j,false);j();a.container||(a.container=document.body);document.body.style.margin=0;document.body.style.padding=0}else{h();d.__defineSetter__("width",function(b){c.width=this.domElement.width=b});d.__defineSetter__("height",
function(b){c.height=this.domElement.height=b});d.width=a.width;d.height=a.height}if(a.container){a.container.appendChild(e);h()}a=function(b){d.__defineGetter__(b,function(){return c[b]})};a("ctx");a("width");a("height");a("frameTime");a("frameRate");a("frameCount");a("key");a("keyCode");a("mouseX");a("mouseY");a("pmouseX");a("pmouseY");a("mousePressed");a("keyPressed");d.__defineGetter__("frameRate",function(){return 1E3/g});a=function(){};d.loop=true;d.keyup=a;d.keydown=a;d.draw=a;d.mousedown=
a;d.mouseup=a;d.mousemove=a;d.mousedrag=a;d.__defineSetter__("frameTime",function(b){g=c.frameTime=b});d.__defineSetter__("frameRate",function(b){c.frameTime=1E3/b;g=1E3/b});e.addEventListener("mouseenter",function(){h()},false);e.addEventListener("mousemove",function(b){var f=b.pageX-offset.x;b=b.pageY-offset.y;if(c.pmouseX==undefined){c.pmouseX=f;c.pmouseY=b}else{c.pmouseX=c.mouseX;c.pmouseY=c.mouseY}c.mouseX=f;c.mouseY=b;d.mousemove()},false);e.addEventListener("mousedown",function(){c.mousePressed=
true;d.mousedown();e.addEventListener("mousemove",d.mousedrag,false)},false);e.addEventListener("mouseup",function(){c.mousePressed=false;d.mouseup();e.removeEventListener("mousemove",d.mousedrag,false)},false);document.addEventListener("keypressed",function(b){c.key=String.fromCharCode(b.keyCode);c.keyCode=b.keyCode;c.keyPressed=true;d.keydown()},false);document.addEventListener("keyup",function(b){c.key=String.fromCharCode(b.keyCode);c.keyCode=b.keyCode;c.keyPressed=false;d.keyup()},false);var k=
function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b){window.setTimeout(b,g)}}();_idraw=function(){d.loop&&k(_idraw);c.frameCount++;var b=(new Date).getTime();d.draw();b=(new Date).getTime()-b;g=b>c.frameTime?b:c.frameTime};_idraw()}}else a.fallback&&a.fallback()};

